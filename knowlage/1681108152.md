# 正则的lastIndex问题

### 遇到的问题
发现第二次test的时候返回的值不对了.排除书写错误,取值失败等等各种干扰因素后,发现仅仅是reg正则第二次执行的时候就无法正确执行了.之前并未遇到过这个问题
```js
input1 = '0281234567';
input2 = '0282345678';
var reg = /^\d+$/g;
reg.test(input1);  //true
reg.test(input2);  //false
```

### 原因
这个问题实际上是`/g`导致的.因为/g代表全局匹配,所以判断正则时内部是有一个lastIndex来记录最后匹配的位置.当重复调用的时候,会接着上次的lastIndex继续匹配,故而将导致判断出错.

### 解决方案
1.去掉/g,在不需要/g的情况下不要随意添加/g标识<br>
2.第二次匹配前,手动将lastIndex置0,以上面的例子来说:reg.lastIndex()=0即可
